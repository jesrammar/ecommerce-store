{% extends "base.html" %}
{% block title %}Entrar{% endblock %}

{% block content %}
<h1 class="mb-3">Entrar</h1>

<form method="post" class="card card-body" novalidate>
  {% csrf_token %}
  <!-- importante: mantener la redirección -->
  <input type="hidden" name="next" value="{{ next }}">

  {% if messages %}
    {% for m in messages %}
      <div class="alert alert-{{ m.tags|default:'info' }} mb-3">{{ m }}</div>
    {% endfor %}
  {% endif %}

  <div class="mb-3">
    <label class="form-label" for="id_username">Usuario</label>
    <input id="id_username" type="text" name="username" class="form-control"
           required autocomplete="username" autofocus
           value="{{ request.POST.username }}">
  </div>

  <div class="mb-3">
    <label class="form-label" for="id_password">Contraseña</label>
    <input id="id_password" type="password" name="password" class="form-control"
           required autocomplete="current-password">
  </div>

  <div class="d-flex gap-2">
    <button class="btn btn-primary">Entrar</button>
    <a class="btn btn-link" href="{% url 'accounts:registro' %}">Crear cuenta</a>
  </div>
</form>
{% endblock %}
